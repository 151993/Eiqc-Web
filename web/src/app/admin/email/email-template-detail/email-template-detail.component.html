<div class="content">
  <app-email-template-edit-guide *ngIf="!hideTemplateGuide" [ngClass]="{ hide: hideTemplateGuide }" (closeGuideEvent)="hideTemplateGuide=$event" [dataSource]="emailTemplateGuideData"></app-email-template-edit-guide>
  <div class="block block-rounded">
    <div class="block-header border-bottom">
      <button class="btn btn-default push-5-r" type="button" title="{{formInput.dirty
        ? ('Label.Cancel' | translate)
        : ('Label.Back' | translate)}}" (click)="cancel()">
        <i class="si si-action-undo"> </i>
      </button>
      <h3 class="block-title">
        {{ "Label.EmailTemplateConfiguration" | translate }}
        <i *ngIf="isAsycValidationPending()" class=" fa fa-spinner fa-spin text-info ml-auto"></i>
      </h3>
      <div class="block-options">
        <button type="button" class="btn btn-primary" (click)="saveForm()" [disabled]="isSaveDisabled()"
          data-dismiss="modal" title="{{ 'Label.Save' | translate }}">
          <i class=" fa fa-floppy-o"></i> {{ "Label.Save" | translate }}
        </button>
        <button type="button" class="btn btn-default" title="{{ 'Label.Guide' | translate }}"
            (click)="hideTemplateGuide = false">
            <i class=" fa fa-bars"></i>
          </button>
      </div>
    </div>
    <div class="block-content contentHeight">
      <div class="row overflow-auto">
        <form [formGroup]="formInput">
          <div class="row form-group ">
            <label class="col-sm-1 col-form-label">{{ "Label.Name" | translate }}:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" formControlName="name" />
            </div>
            <div class="offset-1 col-sm-11">
              <ng-container *ngIf="isNameModified()">
                <small *ngIf="isNameEmpty()" class="form-text text-danger">
                  {{ "Message.Required" | translate }}
                </small>
              </ng-container>
            </div>
          </div>
          <div class="row form-group ">
            <label class="col-sm-1 col-form-label">{{ "Label.Subject" | translate }}:</label>
            <div class="col-sm-10">
              <input id="subject" type="text" class="form-control" formControlName="subject" />
            </div>
            <div class="offset-1 col-sm-11">
              <ng-container *ngIf="isSubjectModified()">
                <small *ngIf="isSubjectEmpty()" class="form-text text-danger">
                  {{ "Message.Required" | translate }}
                </small>
              </ng-container>
            </div>
          </div>
          <div class="row form-group ">
            <label class="col-sm-1 col-form-label">{{ "Label.Body" | translate }}:</label>
            <div class="col-sm-10">
              <p-editor formControlName="body" [readonly]="!canUpdate"></p-editor>
            </div>
            <div class="offset-1 col-sm-11">
              <ng-container *ngIf="isBodyModified()">
                <small *ngIf="isBodyEmpty()" class="form-text text-danger">
                  {{ "Message.Required" | translate }}
                </small>
              </ng-container>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

